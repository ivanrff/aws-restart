# Introduction to AWS Identity and Access Management (IAM)

In many business environments, access involves a single login to a computer or a network of computer systems that provides the user access to all resources on the network. This access includes rights to personal and shared folders on a network server, company intranets, printers, and other network resources and devices. Unauthorized users can quickly exploit these same resources if the access control and associated authentication procedures are not set up properly.

In this lab, you will explore users, user groups, and policies in the AWS Identity and Access Management (IAM) service.

## Objectives

After completing this lab, you should be able to:

* Create and apply an IAM password policy
* Explore pre-created IAM users and user groups
* Inspect IAM policies as applied to the pre-created user groups
* Add users to user groups with specific capabilities active
* Locate and use the IAM sign-in URL
* Experiment with the effects of policies on service access

Here is diagram of the current environment with the listed IAM users and IAM groups.

![](lab-scenario.jpeg)

## Duration
This lab requires approximately 60 minutes to complete.

## Task 1: Create an account password policy

* **Enforce minimum password length**: `10 characters`.
* Select `every check` box `except` **Password expiration requires administrator reset**.
* **Enable password expiration**: `90 days`. 
* **Prevent password reuse**: `5 passwords`.

## Task 2: Explore users and user groups

The following IAM users have been created for you:

* user-1
* user-2 
* user-3

Check their permissions (policies), user groups and security credentials.

The following user groups have already been created for you:

* EC2-Admin
    * EC2-Admin-Policy
    ```json
    {
        "Version": "2012-10-17",
        "Statement": [
            {
                "Action": [
                    "ec2:Describe*",
                    "ec2:StartInstances",
                    "ec2:StopInstances"
                ],
                "Resource": [
                    "*"
                ],
                "Effect": "Allow"
            }
        ]
    }
    ```
* EC2-Support
    * AmazonEC2ReadOnlyAccess
    ```json
    {
        "Version": "2012-10-17",
        "Statement": [
            {
                "Effect": "Allow",
                "Action": [
                    "ec2:Describe*",
                    "ec2:GetSecurityGroupsForVpc"
                ],
                "Resource": "*"
            },
            {
                "Effect": "Allow",
                "Action": "elasticloadbalancing:Describe*",
                "Resource": "*"
            },
            {
                "Effect": "Allow",
                "Action": [
                    "cloudwatch:ListMetrics",
                    "cloudwatch:GetMetricStatistics",
                    "cloudwatch:Describe*"
                ],
                "Resource": "*"
            },
            {
                "Effect": "Allow",
                "Action": "autoscaling:Describe*",
                "Resource": "*"
            }
        ]
    }
    ```
* S3-Support
    * AmazonS3ReadOnlyAccess
    ```json
    {
        "Version": "2012-10-17",
        "Statement": [
            {
                "Effect": "Allow",
                "Action": [
                    "s3:Get*",
                    "s3:List*",
                    "s3:Describe*",
                    "s3-object-lambda:Get*",
                    "s3-object-lambda:List*"
                ],
                "Resource": "*"
            }
        ]
    }
    ```

## Task 3: Add users to user groups

| User	 |   In Group   |             Permissions             |
|--------|--------------|-------------------------------------|
| user-1 | S3-Support	|    Read-only access to Amazon S3    |
| user-2 | EC2-Support	|    Read-only access to Amazon EC2   |
| user-3 | EC2-Admin	| View, start, and stop EC2 instances |

## Task 4: Sign in and test user permissions

Use the **Sign in URL for IAM users in this account**.

* **IAM user name**: `user-1`
* **Password**: `Lab-Password1`
* Check their access to S3 and EC2. The user shouldn't have access to EC2.

* **IAM user name**: `user-2`
* **Password**: `Lab-Password2`
* Check their access to EC2. The user should be able to see EC2 instances but not make changes to them.

* **IAM user name**: `user-3`
* **Password**: `Lab-Password3`
* Use this user to stop the EC2 instance. You should be able to.

# Lab complete!